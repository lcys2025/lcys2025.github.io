┌──────────────────────────────────────────────────────────────────────────────────────────────────────┐
│                                        Gym Fitness Application                                       │
├───────────────────┬─────────────────────┬──────────────────────┬─────────────────────┬───────────────┤
│   Page/Component  │     User Action     │    API Endpoint      │   Validation/Logic  │  Next State   │
├───────────────────┼─────────────────────┼──────────────────────┼─────────────────────┼───────────────┤
│ 1. Home Page      │ Click "About Us"    │                      │                     │ About Page    │
│ (GET /)           │ Click "Services"    │                      │                     │ Services Page │
│                   │ Click "Trainers"    │                      │                     │ Trainers Page │
│                   │ Click "Membership"  │                      │                     │ Login Page    │
│                   │ Click "Contact Us"  │                      │                     │ Contact Page  │
├───────────────────┼─────────────────────┼──────────────────────┼─────────────────────┼───────────────┤
│ 2. Login Page     │ Enter credentials   │ POST /auth/login     │ Validate:           │ Success:      │
│ (GET /auth/login) │ and submit          │                      │ - Email format      │ Dashboard     │
│                   │                     │                      │ - Password not empty│ Error:        │
│                   │                     │                      │ - Credentials match │ Show error    │
│                   │ Click "Register"    │                      │                     │ Register Page │
│                   │ Click "Forgot Pwd"  │                      │                     │ Reset Page    │
├───────────────────┼─────────────────────┼──────────────────────┼─────────────────────┼───────────────┤
│ 3. Register Page  │ Enter details and   │ POST /auth/register  │ Validate:           │ Success:      │
│ (GET /auth/       │ submit              │                      │ - All fields filled │ Login Page    │
│ register)         │                     │                      │ - Email format      │ Error:        │
│                   │                     │                      │ - Password strength │ Show error    │
│                   │                     │                      │ - Email unique      │               │
├───────────────────┼─────────────────────┼──────────────────────┼─────────────────────┼───────────────┤
│ 4. Reset Password │ Enter email and new │ POST /auth/          │ Validate:           │ Success:      │
│ Page (GET /auth/  │ passwords, submit   │ resetPassword        │ - Email exists      │ Login Page    │
│ resetPassword)    │                     │                      │ - Password strength │ Error:        │
│                   │                     │                      │ - Passwords match   │ Show error    │
├───────────────────┼─────────────────────┼──────────────────────┼─────────────────────┼───────────────┤
│ 5. Booking Page   │ Select trainer      │ GET /booking/trainer/│ Validate trainer ID │ Update date   │
│ (GET /book)       │ Select date         │ {trainerId}?month=   │ Check availability  │ selection     │
│                   │                     │                      │                     │               │
│                   │ Submit booking form │ POST /booking/create │ Validate:           │ Success:      │
│                   │                     │                      │ - User is gymer     │ Dashboard     │
│                   │                     │                      │ - Trainer exists    │ with success  │
│                   │                     │                      │ - Date >= today     │ flag          │
│                   │                     │                      │ - Date available    │ Error:        │
│                   │                     │                      │                     │ Show error    │
├───────────────────┼─────────────────────┼──────────────────────┼─────────────────────┼───────────────┤
│ 6. Dashboard      │ View schedule       │ (Server-rendered)    │ Role-based content  │               │
│ (GET /dashboard)  │                     │                      │                     │               │
│                   │ Update status       │ POST /dashboard/     │ Validate:           │ Refresh       │
│                   │ (trainers only)     │ update-status        │ - Valid status      │ dashboard     │
│                   │                     │                      │ - Booking belongs   │               │
│                   │                     │                      │   to trainer        │               │
│                   │ Click "My Bookings" │                      │                     │ Bookings Page │
│                   │ Click "Book New"    │                      │                     │ Booking Page  │
├───────────────────┼─────────────────────┼──────────────────────┼─────────────────────┼───────────────┤
│ 7. My Bookings    │ View bookings       │ GET /booking/user/   │ Validate user ID    │ Display list  │
│ Page (GET /user/  │                     │ {userId}             │                     │               │
│ bookings)         │                     │                      │                     │               │
│                   │ Cancel booking      │ PUT /booking/        │ Validate:           │ Refresh page  │
│                   │ (pending only)      │ {id}/status          │ - Status is pending │               │
│                   │ Click "New Booking" │                      │                     │ Booking Page  │
├───────────────────┼─────────────────────┼──────────────────────┼─────────────────────┼───────────────┤
│ 8. About Page     │ Navigation          │                      │                     │ Services Page │
│ (GET /about)      │                     │                      │                     │ Home Page     │
├───────────────────┼─────────────────────┼──────────────────────┼─────────────────────┼───────────────┤
│ 9. Services Page  │ Navigation          │                      │                     │ Trainers Page │
│ (GET /services)   │                     │                      │                     │ Home Page     │
├───────────────────┼─────────────────────┼──────────────────────┼─────────────────────┼───────────────┤
│10. Trainers Page  │ Click "Book" button │                      │                     │ Booking Page  │
│ (GET /trainers)   │                     │                      │                     │ Home Page     │
├───────────────────┼─────────────────────┼──────────────────────┼─────────────────────┼───────────────┤
│11. Contact Page   │ Submit form         │ POST /contact        │ Validate form fields│ Redirect to   │
│ (GET /contact)    │                     │                      │                     │ Home Page     │
├───────────────────┼─────────────────────┼──────────────────────┼─────────────────────┼───────────────┤
│12. Logout         │ Click "Logout"      │ GET /auth/logout     │ Destroy session     │ Login Page    │
└───────────────────┴─────────────────────┴──────────────────────┴─────────────────────┴───────────────┘

┌──────────────────────────────────────────────────────────────────────┐
│                         Detailed Error Cases                         │
├───────────────────┬──────────────────────────────────────────────────┤
│ Registration      │ - Email already exists                           │
│                   │ - Password < 8 characters                        │
│                   │ - Invalid email format                           │
├───────────────────┼──────────────────────────────────────────────────┤
│ Login             │ - Invalid credentials                            │
│                   │ - User not found                                 │
├───────────────────┼──────────────────────────────────────────────────┤
│ Password Reset    │ - Email not found                                │
│                   │ - Password < 8 characters                        │
│                   │ - Password confirmation mismatch                 │
├───────────────────┼──────────────────────────────────────────────────┤
│ Booking Creation  │ - Trainer already booked                         │
│                   │ - Date in past                                   │
│                   │ - Trainer not found                              │
│                   │ - User not gymer role                            │
├───────────────────┼──────────────────────────────────────────────────┤
│ Booking Update    │ - Invalid status value                           │
│                   │ - Booking not found                              │
│                   │ - Unauthorized (not trainer's booking)           │
│                   │ - Canceling non-pending booking                  │
└───────────────────┴──────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│                          Success Responses                                   │
├───────────────────┬──────────────────────────────────────────────────────────┤
│ Login Success     │ Redirect to /dashboard                                   │
├───────────────────┼──────────────────────────────────────────────────────────┤
│ Register Success  │ { success: true, data: {id, name, email, plan, role} }   │
├───────────────────┼──────────────────────────────────────────────────────────┤
│ Booking Created   │ { success: true, data: {id, bookingDate, sessionType} }  │
├───────────────────┼──────────────────────────────────────────────────────────┤
│ Status Update     │ { success: true, data: updatedBooking }                  │
└───────────────────┴──────────────────────────────────────────────────────────┘
